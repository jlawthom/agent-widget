<!doctype html>

<html lang="en">

<head>
  <style>
    /* .lp_survey_header_area{
        border-bottom: none !important;
      } */
  </style>
  <script type="text/javascript" charset="utf8" src="https://lpcdn.lpsnmedia.net/webagent/client-SDK.min.js"></script>

  <meta charset="utf-8">

  <title>Agent Widget</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

</head>

<body style="background:rgb(19, 129, 167);">

  <h1>V0.1</h1>
  <h4>LOG:</h4>
  <div id="widgetLog"></div>

  <script>

    function widgetLog(message) {
      const widgetLog = document.getElementById("widgetLog");
      widgetLog.innerHTML += `<p>${message}</p>`;
    }

    console.log("console log");
    widgetLog("START");


    var notificationHandler = function (data) {
      // Do something with the notifications
      widgetLog("AGENT WIDGET SDK: " + "notificationHandler");
    };

    var focusHandler = function () {
      // Do something when the visitor is focused
      // Assume the visitor is focused to begin with
      widgetLog("AGENT WIDGET SDK: " + "focusHandler");
    };

    var blurHandler = function () {
      // Do something when the visitor is blurred
      // Assume the visitor is focused to begin with
      widgetLog("AGENT WIDGET SDK: " + "blurHandler");
    };
    lpTag.agentSDK.init({
      notificationCallback: notificationHandler,
      visitorFocusedCallback: focusHandler,
      visitorBlurredCallback: blurHandler
    });

    var onSuccess = function (data) {
      // Do something with the returning data
      widgetLog("AGENT WIDGET SDK: " + "onSuccess");
    };

    var onError = function (err) {
      // Do something with the error
      widgetLog("AGENT WIDGET SDK: " + "onError");
    };

    var pathToData = "visitorInfo.visitorName";

    lpTag.agentSDK.get(pathToData, onSuccess, onError);


  </script>


</body>

</html>